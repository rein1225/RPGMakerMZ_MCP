申し訳ございません。複数の編集操作により `index.js` が深刻に破損してしまいました。

## 現状

- **構文エラー**: 複数の構文エラー（tryブロックの不完全な閉じ括弧、正規表現エスケープエラー、インデント崩れなど）
- **欠落コード**: `run_playtest`のスクリーンショット撮影ロジック、および複数のツール定義（`get_event_page`, `add_dialogue`など）が重複または削除
- **バックアップ**: 破損したファイルを `index.js.broken_backup` として保存済み

## 提案する復旧方法

`restore_code.js` に正しい `run_playtest` 実装があります。この内容を使って、完全にクリーンな `index.js` を再構築することをお勧めします。

**作業内容:**
1. `index.js` の正常な部分（インポート文、ヘルパー関数、リソースハンドラー、ツール定義リストなど）を抽出
2. `restore_code.js` から正しい `run_playtest` および他のツール実装を取得
3. これらを組み合わせて、完全に機能する `index.js` を再作成

この方法で進めてよろしいでしょうか？それとも、他の方法で対処したいですか？
